{% extends 'base.html.twig' %}

{% block stylesheet %}
    {{ parent() }}
    <style>
        /* Style pour le formulaire */
        form {
            border: 1px solid #ccc; /* Bordure autour du formulaire */
            padding: 20px; /* Espace intérieur du formulaire */
            max-width: 800px; /* Largeur maximale du formulaire */
            margin: 0 auto; /* Centrage horizontal du formulaire */
            display: flex; /* Utilisation de flexbox pour l'agencement */
            flex-wrap: wrap; /* Permettre aux éléments de passer à la ligne lorsque l'espace est insuffisant */
        }

        /* Style pour les champs du formulaire */
        .form-group {
            margin-bottom: 50px; /* Espace entre les groupes de champs */
            width: 50%; /* Largeur des champs sur deux colonnes */
        }

        /* Style pour les libellés des champs */
        .form-group label {
            display: block; /* Afficher les libellés sur une ligne distincte */
            font-weight: bold; /* Gras pour les libellés */
        }

        /* Style pour les champs de saisie */
        .form-group input[type="text"],
        .form-group select {
            width: calc(100% - 20px); /* Largeur des champs prenant en compte la marge intérieure */
            padding: 10px; /* Espace intérieur des champs */
            box-sizing: border-box; /* Inclure le padding et border dans la largeur du champ */
            
        }

        /* Style pour les boutons du formulaire */
        .form-group input[type="submit"] {
            background-color: #4CAF50; /* Couleur de fond pour les boutons */
            color: white; /* Couleur du texte pour les boutons */
            padding: 15px 20px; /* Espace intérieur des boutons */
            border: none; /* Supprimer la bordure des boutons */
            cursor: pointer; /* Curseur de la souris sur les boutons */
            width: auto; /* Largeur automatique pour les boutons */
            text-align: right;
        }

        /* CSS pour afficher les boutons radio en ligne */
        .horizontal-radio label {
            display: inline-block;
            margin-right: 10px; /* Espace entre les options */
            margin-top: 20px; /* Espacement en haut */
        }

        .form-group {
            margin-top: 20px; /* Espacement entre les groupes de champs */
        }

        .form-group-btn {
            width: 100%; /* largeur de la div est de 100% */
            text-align: right; /* Alignez le contenu à droite */
        }
.invalid-feedback {
    color: red; 
    font-size: 0.9em;
    margin-top: 5px; 
    text-decoration:none;
}
.bouton {
    display: inline-block;
    padding: 10px 20px;
    background-color: #F4A460; /* Couleur de fond du bouton */
    color: #fff; /* Couleur du texte */
    text-decoration: none; /* Supprimer la soulignement du texte */
    border: none; /* Supprimer la bordure */
    border-radius: 5px; /* Arrondir les coins */
    cursor: pointer; /* Afficher le curseur de la main au survol */
    float: right; /* Aligner le bouton à droite */
}


.bouton:hover {
    background-color: #B8814B; /* Couleur de fond du bouton au survol */
    color: #fff;
}

    </style>
{% endblock %}

{% block Category %}
    <h1>AJOUTER LIVRAISON</h1>

    {{ form_start(formulaireLivraison,{'attr': {'novalidate': 'novalidate'}})}}

    <div class="form-group left">
        {{ form_row(formulaireLivraison.idCmd) }}
    </div>

    <div class="form-group left">
        {{ form_row(formulaireLivraison.idUser) }}
    </div>

    <div class="form-group left">
        {{ form_row(formulaireLivraison.status) }}
    </div>

    <div class="form-group left">





    {{ form_label(formulaireLivraison.adresse) }}
    {{ form_widget(formulaireLivraison.adresse, {'attr': {'class': 'form-control adresseLivraison'}}) }}
    {% if form_errors(formulaireLivraison.adresse) %}
        <div class="invalid-feedback">
            {{ form_errors(formulaireLivraison.adresse) }}
        </div>
    {% endif %}
<a href="{{ path('afficher_carte_livraison') }}" id="afficherCarteBtn" class="bouton">
    <i class="fas fa-map-marker-alt"></i></a>

</div>



<!-- Div pour afficher la carte -->
<div id="map-container">
  <div id="map"></div>
</div>
    <div class="form-group left">
        {{ form_row(formulaireLivraison.fraisLiv) }}
    </div>

    <div class="form-group right">
        {{ form_label(formulaireLivraison.moyenLivraison) }}
        <div class="horizontal-radio">
            {% for child in formulaireLivraison.moyenLivraison %}
                <label>{{ form_widget(child) }} {{ child.vars.label }}</label>
            {% endfor %}
        </div>
    </div>

    <div class="form-group-btn">
        {{ form_row(formulaireLivraison.submit) }}
    </div>

    {{ form_end(formulaireLivraison) }}

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.horizontal-radio input').change(function () {
                var moyenLivraison = $(this).val();
                var fraisLivraisonField = $('#livraison_fraisLiv');
                if (moyenLivraison === 'Standards') {
                    fraisLivraisonField.val('8');
                } else if (moyenLivraison === 'Express') {
                    fraisLivraisonField.val('12');
                }
            });
        });
    </script>

    <script>
 // Attendre que le document soit chargé
document.addEventListener('DOMContentLoaded', function() {
    // Extraire le paramètre "lieu" de l'URL
    var params = new URLSearchParams(window.location.search);
    var lieuSelectionne = params.get('lieu');

    // Vérifier si un lieu a été sélectionné
    if (lieuSelectionne) {
        // Remplir le champ d'adresse avec le lieu sélectionné
        var adresseLivraisonInput = document.querySelector('.adresseLivraison');
        if (adresseLivraisonInput) {
            adresseLivraisonInput.value = lieuSelectionne;
        }
    }
});

</script>



</script>

{% endblock %}
