{% extends 'base.html.twig' %}
{% block body %}
{% block stylesheet %}
    {{ parent() }}
    <style>
    table {
    width: 100%;
    border-collapse: collapse;
}

table, th, td {
    border: 1px solid black;
}

th, td {
    padding: 8px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

tr:nth-child(even) {
    background-color: #f2f2f2;
}

tr:hover {
    background-color: #ddd;
}
.left-align {
    float: right;
}
    </style>
{% endblock %}
{% block  topic %}
<h1>Liste des topic</h1>
<table>
    <tr>
        <th>ID</th>
        <th>Nom</th>
        <th>Sujet</th>
        <th>Image</th>
    </tr>
    {% for a in o %}
    <tr class="clickable-row" data-href="{{ path('afficher_post', {'Topic_id': a.Id}) }}">
        <td>{{ a.Id }}</td>
        <td>{{ a.Nom }}</td>
        <td>{{ a.Subject }}</td>
        <td><img src="{{ a.Image }}" alt="Fayrouz Image"></td>
    </tr>
    {% endfor %}
</table>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var rows = document.querySelectorAll(".clickable-row");

        rows.forEach(function(row) {
            row.addEventListener("click", function() {
                window.location.href = this.dataset.href;
            });
        });
    });
</script>

{% endblock %}
<a href="{{ path('ajouter_topic') }}">Ajouter un topic</a>
{% endblock %}
